{% extends 'base.html.twig' %}

{% block title %}Sylove | {{recipe.name}} {% endblock %}


{% block body %} 
    <div class="container mt-4">
               
        <h1 class="display-4 mt-5" >{{ recipe.name }}</h1>
        {% for message in app.flashes('success') %}
                 <div class = 'alert alert-success mt-4'>
                  {{message}}
                 </div> 
         {% endfor %}
        {#
        <div class=" recipe_image"> 
          <img style"max-width: 500px" src="{{ vich_uploader_asset(recipe, 'imageFile')}}">
        </div> 
          {# affiche tout le formulaire d'un coup 
                   {{ form(form) }}   #}
       <p> <span class= " badge bg-secondary">La moyenne de cette recette est de {{recipe.average|number_format(2, ',', '.') }}/5 </span></p>

         
       <p> <span class= " badge bg-primary">Créée le {{recipe.createdAt|date('d/m/Y') }} </span> par {{app.user.fullName}}</p>
         
         {% if recipe.time  %}
          <p>Temps (en minute) :  {{ recipe.time }} </p>
        {% else %}
           <p> Temps non renseigné</p>
         {% endif %}

         {% if recipe.nbPeople  %}
        <p>Pour {{ recipe.nbPeople }} personnes </p>
        {% else %}
           <p> Nombre de personnes non renseigné</p>
         {% endif %}

         {% if recipe.difficulty  %}
        <p>Difficulté :  {{ recipe.difficulty }} /5 </p>
        {% else %}
           <p> Difficulté non renseigné</p>
         {% endif %}

         {% if recipe.price  %}
        <p>Prix (en $) :  {{ recipe.price }} </p>  
        {% else %}
           <p>Prix non renseigné</p>
         {% endif %}

        <div class = "mt-4">
         Description : {{ recipe.description|raw }}
        </div>

        <hr> 
        <div> 

                <p> INGREDIENTS<p>
            {% for ingredient in recipe.ingredients %}
            
            <span class= "badge bg-secondary">{{ingredient.name }} </span>
                
            {% endfor %}
        </div> 
        <div class="mark">
         {{ form(form) }}
        </div> 
  


    </div> 
        

{% endblock body %} 
